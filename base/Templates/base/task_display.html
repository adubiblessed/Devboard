{% extends 'base/main.html' %} 

{% block content %}
<!-- ===== GOALS AND TASKS SECTION START ===== -->
<div class="container mx-auto max-w-4xl px-6 py-8">
    <div class="bg-card-bg rounded-lg p-6 mx-4 my-8">
    {% if tasks %}
        <h2 class="text-xl font-semibold mb-6 text-white">Goals & Tasks</h2>

        <!-- ===== PROGRESS BAR START ===== -->
        <div class="mb-6">
            <div class="flex items-center justify-between mb-2">
                <span class="font-medium text-white">April 2024 Goals</span>
                <span class="text-gray-400">{{percent_complete}}%</span>
            </div>
            <div class="w-full bg-gray-700 rounded-full h-2">
                <div class="bg-blue-500 h-2 rounded-full" style="width: {{percent_complete}}%"></div>
            </div>
        </div>
        <!-- ===== PROGRESS BAR END ===== -->

        <!-- ===== TASKS LIST START ===== -->
        <div class="space-y-4">
            {% for task in tasks %}
                <div class="flex items-center space-x-3 {% if task.completed %}line-through text-gray-500{% endif %} cursor-pointer">
                    <form action="{% url 'toggle_complete' task.id %}" method="POST">
                        {% csrf_token %}
                            <input
                                type="checkbox"
                                class="w-4 h-4 rounded border-gray-500 bg-transparent text-blue-500 focus:ring-blue-500"
                                {% if task.completed %}checked{% endif %} onChange="this.form.submit()"
                            />
                            <span class="text-gray-300 {% if task.completed %}line-through text-gray-500{% endif %} cursor-pointer ">{{ task.title }}</span>
                    </form>
                </div>
            {% endfor %}
        </div>
        <!-- ===== TASKS LIST END ===== -->
        <div class="flex justify-end mt-6">
            <a href="{% url 'tasks' %}" class="px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md font-medium transition-colors duration-200">
                Create New Task
            </a>
            <a href="{% url 'home' %}" class="ml-4 px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-md font-medium transition-colors duration-200">
                Go Back Home
            </a>
        </div>

        
    {% else %}
        <!-- ===== EMPTY STATE START ===== -->
        <p class="text-gray-400">No tasks available.</p>
        <!-- ===== EMPTY STATE END ===== -->
    {% endif %}
    </div>
</div>
<!-- ===== GOALS AND TASKS SECTION END ===== -->

{% endblock content%}